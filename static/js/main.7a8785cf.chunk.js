(window["webpackJsonpweather-site"]=window["webpackJsonpweather-site"]||[]).push([[0],{18:function(e,t,a){e.exports=a(52)},49:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),l=a.n(r),s=a(4),o=a.n(s),i=a(5),u=a(16),m=a(2),d=a(17),g=a.n(d),h=a(3),p=a.n(h),E=(a(49),a(50),{google:"AIzaSyCorh4dbsoc_wcEamkiKTIBggBh1MEmHWs",darksky:"a3c9cb68a55dfd881d8f93e880e901c0"}),f=function(){return c.a.createElement("header",null,c.a.createElement("h1",{className:"App-name"},"Weather App"))},b=function(e){var t=e.weather;return c.a.createElement("div",{className:"stats"},c.a.createElement("div",{className:"wind"},c.a.createElement("h3",null,"Wind:"),c.a.createElement("span",null,Math.round(t.windSpeed)," M/S")),c.a.createElement("div",{className:"temp"},c.a.createElement("h3",null,"Temp:"),c.a.createElement("span",null,Math.round(t.temperature)," C")),c.a.createElement("div",{className:"humid"},c.a.createElement("h3",null,"Humidity:"),c.a.createElement("span",null,Math.round(100*t.humidity)," %")))},y=function(e){var t=e.address,a=e.setAddress,n=e.handleSelect;return c.a.createElement("section",{className:"search-section"},c.a.createElement(p.a,{value:t,onChange:a,onSelect:n},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps;e.loading;return c.a.createElement("div",null,c.a.createElement("input",Object.assign({className:"google-search-field"},t({placeholder:"Type address.."}))),c.a.createElement("div",{className:"google-ul"},a.map((function(e){var t={backgroundColor:e.active?"#41b6e6":"#000"};return c.a.createElement("div",Object.assign({className:"google-suggestion"},n(e,{style:t})),e.description)}))))})))},v=function(e){var t=e.storageLocation,a=e.getHistoryLocation,n=e.clearStorage;return c.a.createElement("div",{className:"history-comp"},c.a.createElement("ul",{className:"latest-search-list"},t.map((function(e,t){return c.a.createElement("li",{className:"latest-search-li",key:t,onClick:a,value:t},e)}))),localStorage.length>0?c.a.createElement("button",{className:"clear-history-btn",onClick:n},"Clear history"):null)},S=function(){return c.a.createElement("footer",null,c.a.createElement("a",{className:"darksky",href:"https://darksky.net/poweredby/"},"Powered by Dark Sky"))},O=function(e){var t=e.skyconsRef,a=e.weather,r=e.coordinates,l=e.city;return c.a.createElement(n.Fragment,null,c.a.createElement("h2",{className:"big-city"},"58.41086"===r.lat&&"15.62157"===r.lng?"Link\xf6ping, Sverige":l),c.a.createElement("canvas",{className:"icon",ref:t,id:"icon",width:"64",height:"64"}),c.a.createElement("h3",null,a.summary),c.a.createElement("h1",{className:"temp-big"},Math.round(a.temperature)," C"))},w=function(){return c.a.createElement("div",{className:"loader"},c.a.createElement("p",{className:"loadtext"},"Loading..."))},N=new(a(51)(window))({color:"#fff"});var j=function(){var e=Object(n.useState)(!0),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),s=Object(m.a)(l,2),d=s[0],p=s[1],j=Object(n.useState)(""),k=Object(m.a)(j,2),C=k[0],I=k[1],L=Object(n.useState)(""),A=Object(m.a)(L,2),J=A[0],M=A[1],x=Object(n.useState)([]),T=Object(m.a)(x,2),B=T[0],H=T[1],P=Object(n.useState)([]),R=Object(m.a)(P,2),W=R[0],z=R[1],D=Object(n.useState)([]),F=Object(m.a)(D,2),K=F[0],_=F[1],q=Object(n.useState)({lat:"58.41086",lng:"15.62157"}),G=Object(m.a)(q,2),Q=G[0],U=G[1],V=Object(n.useRef)(),X=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.geocodeByAddress)(t);case 2:return a=e.sent,e.next=5,Object(h.getLatLng)(a[0]);case 5:n=e.sent,I(t),U(n),C&&(c=[C].concat(Object(i.a)(W)),r=[n].concat(Object(i.a)(K)),localStorage.setItem("places",JSON.stringify(c)),localStorage.setItem("cord",JSON.stringify(r)),z(c),_(r),M(C),I(""));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(localStorage.length>0){var e=localStorage.getItem("places"),t=localStorage.getItem("cord"),a=JSON.parse(e),n=JSON.parse(t);z(a),_(n)}g.a.get("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/".concat(E.darksky,"/").concat(Q.lat,",").concat(Q.lng,"?units=si")).then((function(e){H(e.data.currently),N.set(V.current,e.data.currently.icon),N.play(),setTimeout((function(){r(!1)}),1500)})).catch((function(e){console.log(e)}))}),[Q]),c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"wrapper"},a?c.a.createElement(w,null):null,c.a.createElement(f,{coordinates:Q,city:J}),c.a.createElement(O,{skyconsRef:V,weather:B,coordinates:Q,city:J}),c.a.createElement(b,{weather:B}),c.a.createElement(y,{address:C,setAddress:I,handleSelect:X}),localStorage.length>0?c.a.createElement("button",{className:"history-btn",onClick:function(){return p(!d)}},d?"Close history":"Show history"):null,d?c.a.createElement(v,{storageLocation:W,getHistoryLocation:function(e){var t=e.currentTarget;U(K[t.value]),M(W[t.value])},clearStorage:function(){W.splice(0),K.splice(0),localStorage.clear(),U({lat:"58.41086",lng:"15.62157"})}}):null),c.a.createElement(S,null))};l.a.render(c.a.createElement(j,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.7a8785cf.chunk.js.map